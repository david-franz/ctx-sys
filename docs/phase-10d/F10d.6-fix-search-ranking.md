# F10d.6 Fix search_entities Ranking

**Phase**: 10d - Bug Fixes & Cleanup
**Priority**: Medium
**Dependencies**: None

## Problem

Searching for "EmbeddingManager" via `search_entities` returns `AppContext` as the #1 result instead of the entity named `EmbeddingManager`. Exact name matches should always rank first.

### Root Cause

`searchExactName()` in `src/entities/store.ts` uses `WHERE name = ?` which is case-sensitive in SQLite by default. If there's any case mismatch, the exact match is missed and FTS5 BM25 ranking takes over, which may rank a different entity higher.

## Implementation

### File: `src/entities/store.ts`

1. Add `COLLATE NOCASE` to exact name match query
2. Add `searchQualifiedName()` as Priority 1.5: match `qualified_name LIKE '%::query'` to catch cases where the search term matches the symbol name portion of a qualified name

## Success Criteria

- `search_entities({ query: "EmbeddingManager" })` returns `EmbeddingManager` as result #1
- `search_entities({ query: "embeddingmanager" })` also returns it (case-insensitive)
- FTS/LIKE results still appear after exact matches
