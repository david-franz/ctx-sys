# F10d.3 Fix context_query Empty Results

**Phase**: 10d - Bug Fixes & Cleanup
**Priority**: Critical
**Dependencies**: F10d.1 (analytics removal simplifies queryContext)

## Problem

The `context_query` MCP tool — the core value proposition of ctx-sys — returns empty results for all queries despite hundreds of indexed entities with embeddings. Meanwhile `search_entities` (which uses `EntityStore.search()` directly) works fine.

### Root Causes

1. **keywordSearch returns empty when QueryParser strips all keywords**: `keywordSearch()` only runs if `parsed.keywords.length > 0`. If all words are stop words, no keyword search happens.

2. **Semantic search errors swallowed silently**: `Promise.allSettled` catches strategy failures but logs nothing. If Ollama is unavailable, semantic search fails silently.

3. **No fallback to raw query**: When the QueryParser strips all keywords and no entity mentions are detected, `keywordSearch()` returns `[]` with no fallback.

### Observed Behavior

```
context_query({ query: "EmbeddingManager" }) → { context: "", sources: [], tokensUsed: 0 }
context_query({ query: "how does search work" }) → { context: "", sources: [], tokensUsed: 0 }
search_entities({ query: "EmbeddingManager" }) → [... 10 results ...]  // Works!
```

## Implementation

### File: `src/retrieval/multi-strategy-search.ts`

1. **Add fallback in keywordSearch()**: If `parsed.keywords` is empty but `parsed.normalizedQuery` has content, search with the raw normalized query
2. **Log strategy failures**: In the `Promise.allSettled` loop, `console.error` for rejected strategies
3. **Try/catch in each strategy**: Wrap each strategy method body to log and return `[]` instead of throwing

## Success Criteria

- `context_query({ query: "EmbeddingManager" })` returns non-empty context
- `context_query({ query: "how does search work" })` returns relevant results
- Strategy failures are logged to stderr, not swallowed silently
